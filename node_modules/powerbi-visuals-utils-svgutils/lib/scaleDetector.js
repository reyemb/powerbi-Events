export class SVGScaleDetector {
    constructor(svgElement) {
        this.scaleDetectorElement = svgElement
            .append("rect") // Using a <rect> which should have a reliable bounding box across browser implementations.
            .classed("scale-detector", true)
            .attr("width", 1)
            .attr("height", 1)
            .attr("stroke-width", "0px")
            .attr("fill", "none")
            .node();
    }
    getScale() {
        const scaledRect = this.scaleDetectorElement.getBoundingClientRect();
        const domRect = this.scaleDetectorElement.getBBox();
        if (domRect.height > 0 && domRect.width > 0) {
            return {
                x: scaledRect.width / domRect.width,
                y: scaledRect.height / domRect.height
            };
        }
        return {
            x: 1,
            y: 1
        };
    }
}
//# sourceMappingURL=scaleDetector.js.map